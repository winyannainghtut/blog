<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Khaw's Blog</title><meta name=keywords content><meta name=description content="Posts - Khaw's Blog"><meta name=author content="Win Yan Naing Htut"><link rel=canonical href=https://khawstech.com/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.735c14aef5bd53538764fbe842da3b6b2041059e13045d88f457bc438e58e012.css integrity="sha256-c1wUrvW9U1OHZPvoQto7ayBBBZ4TBF2I9Fe8Q45Y4BI=" rel="preload stylesheet" as=style><link rel=icon href=https://khawstech.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://khawstech.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://khawstech.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://khawstech.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://khawstech.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://khawstech.com/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: rgb(29, 30, 32);--entry: rgb(46, 46, 51);--primary: rgb(218, 218, 219);--secondary: rgb(155, 156, 157);--tertiary: rgb(65, 66, 68);--content: rgb(196, 196, 197);--hljs-bg: rgb(46, 46, 51);--code-bg: rgb(55, 56, 62);--border: rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-123-45','auto');ga('send','pageview');}</script><meta property="og:title" content="Posts"><meta property="og:description" content="KhawGyi Personal Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://khawstech.com/posts/"><meta property="og:site_name" content="Khaw's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="KhawGyi Personal Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://khawstech.com/posts/"}]}</script></head><body class=list id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><div class=logo><a href=https://khawstech.com/ accesskey=h title="Home (Alt + H)"><img src=https://khawstech.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://khawstech.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://google.com title="Need to know something?"><span>Need to know something?</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>AWS NAT using NAT instance</h2></header><div class=entry-content><p>AWS NAT using NAT instance ကျွန်တော်တို့ဟာ NAT GW ကိုမသုံးပဲနဲ့ EC2 Instance တစ်ခုကို NAT အနေနဲ့သုံးလို့ရပါသေးတယ်။ NAT GW ရဲ့ Cost ကို လျော့ချချင်တာပဲဖြစ်ဖြစ်၊ NAT အနောက်မှာ ရှိတဲ့ Inbound Outbound traffic တွေကို ကိုယ်တိုင် manage လုပ်ချင်တဲ့အခါမျိုးတွေ မှာအသုံးပြုလို့ရပါတယ်။ နောက်ပြီး NAT instance ကို Private host တွေရဲ့ Jump server or Bastion server အဖြစ်လည်းအသုံးပြုနိုင်ပါသေးတယ်။အားနည်းချက်အနေနဲ့ကတော့ AWS managed မဟုတ်တာကြောင့် administrator ကလိုချင်တဲ့ပုံစံကိုကိုယ်တိုင်ပြင်ယူရပါမယ်။
Setup: အရင်ဆုံးကျွန်တော် EC2 instance နှစ်ခုကို create လုပ်ပါမယ်။
ကျွန်တော်ကတော့ နှစ်ခုလုံးကို Ubuntu 20.04LTS ကိုပဲအသုံးပြုထားပါတယ်။ (မှတ်ချက်။ ။ကျွန်တော်ကတော့ IP tables rule ကို အသုံးပြုပြီး NAT လုပ်သွားမှာပါ။ တစ်ကယ်လို့ AWS NAT AMI ကိုအသုံးပြုပြီးတော့လုပ်တယ်ဆိုရင်လည်းအတူတူပါပဲ)...</p></div><footer class=entry-footer><span title="2023-11-02 17:34:23 +0800 +08">November 2, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;236 words&nbsp;·&nbsp;Win Yan Naing Htut</footer><a class=entry-link aria-label="post link to AWS NAT using NAT instance" href=https://khawstech.com/posts/awsnatusingnatinstance/></a></article><article class=post-entry><header class=entry-header><h2>Creating RDS+EC2 (Two Tier Architecture)</h2></header><div class=entry-content><p>Creating RDS + EC2 (Two Tier Architecture) Objective To connect RDS with EC2.
Install MySQL Client on EC2. Using mysql command line to connect RDS. Create Database name in HC_WYNH EC2 instance (Ubuntu Server) with app-server-sg (security Group) RDS instance with db-server-sg (security group) Installing Mysql client on EC2 (ubuntu). sudo apt-get install mysql-client
Using mysql command to connect with RDS. mysql -h {DB End Point} -P LOCAL_PORT -u RDS_USER -p
Creating a Database :wq!...</p></div><footer class=entry-footer><span title="2023-10-20 00:00:00 +0000 UTC">October 20, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;75 words&nbsp;·&nbsp;Win Yan Naing Htut</footer><a class=entry-link aria-label="post link to Creating RDS+EC2 (Two Tier Architecture)" href=https://khawstech.com/posts/creating-rds+ec2-two-tier-architecture/></a></article><article class=post-entry><header class=entry-header><h2>CreatingKeyPair</h2></header><div class=entry-content><p>Creating Key Pair using AWS CFN Create key pairs - Amazon Elastic Compute Cloud
Objective To create AWS Key Pair using Cloudformation. (Using the default profile) Create a CloudFormation Template: Start by creating a CloudFormation template in YAML format.**`AWS::EC2::KeyPair`** is defined with the name “wynhkeypair". You can change the **`KeyName`** property to your desired key pair name.
AWSTemplateFormatVersion:"2010-09-09"Resources:wynhkeypair:#edit here Type:AWS::EC2::KeyPairProperties:KeyName:wynhkeypairDeploy the Template: aws cloudformation create-stack --stack-name wynhkeypair --template-body file://keypair-wynh....</p></div><footer class=entry-footer><span title="2023-10-20 00:00:00 +0000 UTC">October 20, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;178 words&nbsp;·&nbsp;Win Yan Naing Htut</footer><a class=entry-link aria-label="post link to CreatingKeyPair" href=https://khawstech.com/posts/creatingkeypair/></a></article><article class=post-entry><header class=entry-header><h2>EC2 + Keypair creation</h2></header><div class=entry-content><p>EC2 + Keypair creation Create key pairs - Amazon Elastic Compute Cloud
AWS::EC2::Instance - AWS CloudFormation
Objective
To create AWS KeyPair + EC2 using Cloudformation. (Using the default profile) Create a CloudFormation Template: Make a yaml file named ec2cfn.yaml. Added the below template. AWSTemplateFormatVersion:"2010-09-09"Description:CFN+EC2+KeyPairResources:wynhkeypair:Type:'AWS::EC2::KeyPair'Properties:KeyName:wynhkeypairEc2Instance:Type:'AWS::EC2::Instance'Properties:InstanceType:'t2.micro'AvailabilityZone:'ap-southeast-1a'ImageId:'ami-002843b0a9e09324a'KeyName:!RefwynhkeypairRun the code: aws cloudformation create-stack --stack-name ec2nkeypair --template-body file://ec2cfn.yaml
Output:
The keypair(wynhkeypair) is attached.
Describe the key pair: aws ec2 describe-key-pairs --filters Name=key-name,Values=wynhkeypair --query KeyPairs[*]....</p></div><footer class=entry-footer><span title="2023-10-20 00:00:00 +0000 UTC">October 20, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;132 words&nbsp;·&nbsp;Win Yan Naing Htut</footer><a class=entry-link aria-label="post link to EC2 + Keypair creation" href=https://khawstech.com/posts/ec2-+-keypair-creation/></a></article><article class=post-entry><header class=entry-header><h2>How IAM Policy working?</h2></header><div class=entry-content><p>Objective IAM Policy
Create EC2 Instances Specific Instance Type (t2.micro, t3.micro) Specific Region (ap-southeast-1) Create RDS Instances Specific Region (ap-southeast-1) Create IAM User Attach the above policy.
IAM Policy {
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Action": [
"ec2:DescribeAccountAttributes",
"ec2:DescribeInstances",
"ec2:DescribeImages",
"ec2:DescribeInstanceTypes",
"ec2:DescribeKeyPairs",
"ec2:CreateKeyPair",
"ec2:DescribeVpcs",
"ec2:DescribeSubnets",
"ec2:DescribeSecurityGroups",
"ec2:CreateSecurityGroup",
"ec2:AuthorizeSecurityGroupIngress"
],
"Resource": "*"
},
{
"Effect": "Allow",
"Action": "ec2:RunInstances",
"Resource": [
"arn:aws:ec2:ap-southeast-1:764523291456:network-interface/*",
"arn:aws:ec2:ap-southeast-1:764523291456:volume/*",
"arn:aws:ec2:ap-southeast-1:764523291456:key-pair/*",
"arn:aws:ec2:ap-southeast-1:764523291456:security-group/*",
"arn:aws:ec2:ap-southeast-1:764523291456:subnet/subnet-*",
"arn:aws:ec2:ap-southeast-1::image/ami-*"
]
},
{
"Effect": "Allow",
"Action": [
"ec2:RunInstances",
"ec2:StartInstances",
"ec2:StopInstances",
"ec2:TerminateInstances",
"ec2:CreateTags"
],
"Resource": [
"arn:aws:ec2:ap-southeast-1:764523291456:instance/*"
],
"Condition": {
"StringEquals": {
"ec2:InstanceType": [
"t2....</p></div><footer class=entry-footer><span title="2023-10-20 00:00:00 +0000 UTC">October 20, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;460 words&nbsp;·&nbsp;Win Yan Naing Htut</footer><a class=entry-link aria-label="post link to How IAM Policy working?" href=https://khawstech.com/posts/iam-policy/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://khawstech.com/posts/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://khawstech.com/>Khaw's Blog</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z" /></svg></a><script>let menu=document.getElementById('menu')
if(menu){menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>